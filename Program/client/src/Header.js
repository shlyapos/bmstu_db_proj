import React from "react";

class Header extends React.Component {
    constructor(props) {
        super(props);

        this.loginProcessing = this.loginProcessing.bind(this);
    }

    loginProcessing() {
        this.props.loginFunc();
    }

    render(props) {
        let btnText = this.props.role === 'guest' ? 'Sign In!' : 'Log out';
        let btnVisible = this.props.isLogin       ? 'block'    : 'none';

        return (
            <div className="head_container">
                <a href="/">
                    <svg width="139" height="50" viewBox="0 0 139 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M47.5072 35.0993H35.3095C35.3158 34.9211 35.3221 34.7425 35.3221 34.5666C35.3221 25.2565 27.7481 17.6821 18.4376 17.6821C9.12751 17.6821 1.55307 25.2565 1.55307 34.5666C1.55307 35.0698 1.5772 35.5794 1.62751 36.125C1.67157 36.6085 2.07738 36.9787 2.56295 36.9787H33.0338H34.3121H47.5072C48.0259 36.9787 48.4469 36.5579 48.4469 36.0391C48.4469 35.5202 48.0259 35.0993 47.5072 35.0993ZM3.44288 35.0993C3.43551 34.9195 3.43245 34.7423 3.43245 34.5666C3.43245 27.7139 8.05207 21.9234 14.3392 20.1351C11.4741 23.0531 9.56745 28.5928 9.5287 35.0994H3.44288V35.0993ZM11.4079 35.0993C11.4609 27.2058 14.6003 20.5149 18.4376 19.8629C22.2759 20.515 25.4153 27.2058 25.4683 35.0993H11.4079ZM33.4328 35.0993H33.0338H27.3476C27.3088 28.5928 25.4022 23.0531 22.537 20.1353C28.8236 21.9234 33.4427 27.7139 33.4427 34.5666C33.4428 34.7425 33.4396 34.9198 33.4328 35.0993Z" fill="black" />
                        <path d="M17.1456 14.9006H19.7296C20.2487 14.9006 20.6693 14.4799 20.6693 13.961C20.6693 13.4421 20.2487 13.0213 19.7296 13.0213H17.1456C16.6269 13.0213 16.2059 13.4421 16.2059 13.961C16.2059 14.4799 16.6269 14.9006 17.1456 14.9006Z" fill="black" />
                        <path d="M41.7473 32.22C45.9713 32.22 47.9733 30.108 47.9733 27.644C47.9733 21.99 38.8433 24.124 38.8433 20.846C38.8433 19.68 39.8113 18.756 42.1873 18.756C43.5293 18.756 45.0473 19.152 46.4333 19.966L47.3353 17.744C45.9933 16.864 44.0573 16.38 42.2093 16.38C37.9853 16.38 36.0053 18.492 36.0053 20.978C36.0053 26.698 45.1573 24.52 45.1573 27.842C45.1573 28.986 44.1453 29.844 41.7473 29.844C39.8553 29.844 37.8973 29.14 36.6653 28.15L35.6753 30.372C36.9513 31.472 39.3493 32.22 41.7473 32.22ZM57.2112 20.12C55.5832 20.12 54.1972 20.648 53.2952 21.616V15.676H50.5452V32H53.2952V26.06C53.2952 23.706 54.6152 22.518 56.5732 22.518C58.3332 22.518 59.3672 23.53 59.3672 25.62V32H62.1172V25.268C62.1172 21.726 60.0272 20.12 57.2112 20.12ZM65.6058 32H68.3558V15.676H65.6058V32ZM80.3251 20.252L76.6071 28.942L72.9111 20.252H70.0511L75.1771 32.044L74.9791 32.506C74.4511 33.672 73.8791 34.134 72.9111 34.134C72.1631 34.134 71.4151 33.826 70.8871 33.32L69.7871 35.344C70.5351 36.026 71.7671 36.422 72.9331 36.422C74.8911 36.422 76.3871 35.608 77.4651 32.946L82.9651 20.252H80.3251ZM88.8066 20.12C86.9146 20.12 85.0886 20.604 83.8346 21.572L84.9126 23.574C85.7926 22.848 87.1566 22.408 88.4766 22.408C90.4346 22.408 91.4026 23.354 91.4026 24.96V25.136H88.3666C84.8026 25.136 83.4826 26.676 83.4826 28.634C83.4826 30.68 85.1766 32.154 87.8606 32.154C89.6206 32.154 90.8966 31.582 91.5566 30.57V32H94.1526V25.114C94.1526 21.726 92.1946 20.12 88.8066 20.12ZM88.4326 30.152C87.0246 30.152 86.1886 29.514 86.1886 28.524C86.1886 27.666 86.6946 26.962 88.5646 26.962H91.4026V28.326C90.9406 29.536 89.7746 30.152 88.4326 30.152ZM104.194 20.12C102.588 20.12 101.224 20.67 100.3 21.792V20.252H97.6819V36.268H100.432V30.57C101.378 31.648 102.698 32.154 104.194 32.154C107.626 32.154 110.156 29.778 110.156 26.126C110.156 22.496 107.626 20.12 104.194 20.12ZM103.886 29.8C101.906 29.8 100.388 28.37 100.388 26.126C100.388 23.882 101.906 22.452 103.886 22.452C105.866 22.452 107.362 23.882 107.362 26.126C107.362 28.37 105.866 29.8 103.886 29.8ZM121.63 32H124.974L119.606 25.18L124.512 20.252H121.212L115.514 25.532V15.676H112.764V32H115.514V28.898L117.56 26.962L121.63 32ZM131.023 20.12C129.131 20.12 127.305 20.604 126.051 21.572L127.129 23.574C128.009 22.848 129.373 22.408 130.693 22.408C132.651 22.408 133.619 23.354 133.619 24.96V25.136H130.583C127.019 25.136 125.699 26.676 125.699 28.634C125.699 30.68 127.393 32.154 130.077 32.154C131.837 32.154 133.113 31.582 133.773 30.57V32H136.369V25.114C136.369 21.726 134.411 20.12 131.023 20.12ZM130.649 30.152C129.241 30.152 128.405 29.514 128.405 28.524C128.405 27.666 128.911 26.962 130.781 26.962H133.619V28.326C133.157 29.536 131.991 30.152 130.649 30.152Z" fill="black" />
                    </svg>
                </a>
                <button className="header__auth" onClick={this.loginProcessing} style={{display: btnVisible}}>{btnText}</button>
                <div className="header__user_info">
                    <h3 className="user_name">{this.props.userName}</h3>
                    <img src={this.props.userAvatar} alt={this.props.userName} className="header__avatar author_avatar" />
                </div>
            </div>
        );
    }
};

export default Header;